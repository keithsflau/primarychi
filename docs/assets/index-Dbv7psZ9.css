:root{font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif;line-height:1.5;font-weight:400;color:#000;background-color:#f5f0e8;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,*:before,*:after{box-sizing:border-box}body{margin:0;min-height:100vh;background:url("data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='richPattern' x='0' y='0' width='200' height='200' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 20 100 Q 50 80, 80 100 Q 110 120, 140 100 Q 170 80, 180 100' stroke='rgba(180,150,120,0.12)' stroke-width='2' fill='none'/%3E%3Cpath d='M 30 50 Q 40 30, 50 50 Q 60 70, 70 50' stroke='rgba(200,160,100,0.12)' stroke-width='1.5' fill='none'/%3E%3Cpath d='M 150 50 Q 160 30, 170 50 Q 180 70, 190 50' stroke='rgba(200,160,100,0.12)' stroke-width='1.5' fill='none'/%3E%3Cpath d='M 0 120 Q 30 100, 60 120 Q 90 100, 120 120 Q 150 100, 180 120 Q 200 110, 200 120 L 200 200 L 0 200 Z' fill='rgba(160,180,200,0.06)'/%3E%3Ccircle cx='30' cy='40' r='3' fill='rgba(220,100,100,0.1)'/%3E%3Ccircle cx='35' cy='35' r='2.5' fill='rgba(220,100,100,0.1)'/%3E%3Cpath d='M 160 30 L 160 60' stroke='rgba(80,140,80,0.12)' stroke-width='2'/%3E%3Cpath d='M 20 80 Q 40 60, 60 80 Q 80 100, 100 80' stroke='rgba(100,80,60,0.08)' stroke-width='3' fill='none' stroke-linecap='round'/%3E%3Cpath d='M 50 20 Q 55 15, 60 20 Q 65 15, 70 20' stroke='rgba(200,180,160,0.12)' stroke-width='1.5' fill='none'/%3E%3Ccircle cx='100' cy='30' r='4' fill='rgba(240,180,200,0.08)'/%3E%3Cpath d='M 40 15 Q 45 10, 50 15 Q 55 10, 60 15 Q 55 20, 50 15 Q 45 20, 40 15' fill='rgba(200,180,160,0.08)'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='200' height='200' fill='url(%23richPattern)'/%3E%3C/svg%3E"),radial-gradient(circle at top,#f5f0e8,#e8ddd4 60%,#f5f0e8);background-attachment:fixed}#root{min-height:100vh}button{border-radius:999px;border:none;padding:.6rem 1.4rem;font-weight:600;cursor:pointer;background:linear-gradient(135deg,#ff7eb3,#ff758c);color:#fff;transition:transform .2s ease,box-shadow .2s ease}button:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 20px #ff768c59}button:disabled{opacity:.5;cursor:not-allowed}input{width:100%;padding:.55rem .8rem;border-radius:.65rem;border:1px solid #e0e0f0;font-size:1rem;background:#fff}body,#root{width:100%;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif;color:#000}.app-shell{display:flex;flex-direction:row;gap:1.5rem;padding:2rem;min-height:100vh}.board-wrapper{flex:2.2;background:url("data:image/svg+xml,%3Csvg width='120' height='120' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='tilePattern' x='0' y='0' width='120' height='120' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 10 20 Q 20 10, 30 20 Q 20 30, 10 20' fill='rgba(200,180,160,0.1)'/%3E%3Cpath d='M 50 60 Q 60 50, 70 60 Q 60 70, 50 60' fill='rgba(200,180,160,0.1)'/%3E%3Cpath d='M 90 30 Q 100 20, 110 30 Q 100 40, 90 30' fill='rgba(200,180,160,0.08)'/%3E%3Cpath d='M 15 55 Q 25 45, 35 55' stroke='rgba(200,180,160,0.12)' stroke-width='0.8' fill='none'/%3E%3Cpath d='M 20 80 Q 30 70, 40 80' stroke='rgba(180,150,120,0.1)' stroke-width='1' fill='none'/%3E%3Ccircle cx='25' cy='25' r='2' fill='rgba(220,100,100,0.1)'/%3E%3Ccircle cx='95' cy='75' r='2' fill='rgba(220,100,100,0.1)'/%3E%3Cpath d='M 60 20 L 60 40' stroke='rgba(80,140,80,0.12)' stroke-width='1.5'/%3E%3Cpath d='M 10 10 L 20 10 L 20 20 L 10 20 Z' stroke='rgba(180,150,120,0.1)' stroke-width='0.8' fill='none'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='120' height='120' fill='url(%23tilePattern)'/%3E%3C/svg%3E"),#fffaf0f2;border-radius:1.5rem;padding:1rem;box-shadow:0 20px 45px #0f172a1f;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:3px solid rgba(180,150,120,.4);border-style:double}.sidebar{flex:1.2;display:flex;flex-direction:column;gap:1rem}.panel{background:url("data:image/svg+xml,%3Csvg width='80' height='80' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 10 15 Q 15 10, 20 15 Q 15 20, 10 15' fill='rgba(200,180,160,0.08)'/%3E%3Cpath d='M 40 45 Q 45 40, 50 45 Q 45 50, 40 45' fill='rgba(200,180,160,0.08)'/%3E%3Cpath d='M 60 20 Q 65 15, 70 20' stroke='rgba(200,180,160,0.1)' stroke-width='1' fill='none'/%3E%3Ccircle cx='25' cy='30' r='1.5' fill='rgba(220,100,100,0.08)'/%3E%3Cpath d='M 15 10 L 20 10 L 20 15 L 15 15 Z' stroke='rgba(180,150,120,0.1)' stroke-width='0.8' fill='none'/%3E%3C/svg%3E"),#ffffffeb;border-radius:1.25rem;padding:1.2rem;box-shadow:0 12px 30px #0f172a1a;border:2px solid rgba(180,150,120,.3);border-style:double;color:#000;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.action-panel header{margin-bottom:1rem}.eyebrow{font-size:.85rem;text-transform:uppercase;letter-spacing:.1em;color:#9da3c1;margin:0}.action-panel h2{margin:.2rem 0;color:#000;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.action-buttons{display:flex;flex-wrap:wrap;gap:.6rem}.notice{margin-top:1rem;padding:.9rem;border-radius:1rem;background:#fff5f0;border:1px dashed #ffb199}.notice.special{background:#eef6ff;border-color:#7db1ff}.space-details,.build-controls{margin-top:1rem;border-top:1px solid #ececff;padding-top:.8rem}.build-row{display:flex;justify-content:space-between;align-items:center;padding:.4rem 0;gap:.4rem}.build-row .row-actions{display:flex;gap:.35rem}.player-tray .player-list{display:flex;flex-direction:column;gap:.8rem;color:#000;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.player-card{border:1px solid #e5e7f5;border-radius:1rem;padding:.8rem}.player-card.active{border-color:#ff8fb1;box-shadow:0 8px 20px #ff768c33}.player-header{display:flex;align-items:center;gap:.5rem;margin-bottom:.4rem}.player-dot{width:12px;height:12px;border-radius:50%}.player-stats{display:flex;flex-wrap:wrap;gap:.5rem;font-size:.9rem}.badge{background:#fff0f4;padding:.15rem .6rem;border-radius:999px;font-size:.78rem;color:#ff5c8d}.badge.warning{background:#fff7e0;color:#ff8d1a}.game-log .log-list{max-height:220px;overflow-y:auto;margin-top:.5rem;display:flex;flex-direction:column;gap:.3rem;font-size:.92rem}.board-grid{display:grid;grid-template-columns:repeat(11,minmax(44px,1fr));grid-template-rows:repeat(11,minmax(44px,1fr));gap:.35rem;position:relative}.board-center{grid-row:2 / 11;grid-column:2 / 11;border-radius:1rem;border:3px double rgba(180,150,120,.5);background:url("data:image/svg+xml,%3Csvg width='150' height='150' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='centerPattern' x='0' y='0' width='150' height='150' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 20 30 Q 30 20, 40 30 Q 30 40, 20 30' fill='rgba(200,180,160,0.12)'/%3E%3Cpath d='M 80 70 Q 90 60, 100 70 Q 90 80, 80 70' fill='rgba(200,180,160,0.12)'/%3E%3Cpath d='M 25 75 Q 35 65, 45 75' stroke='rgba(200,180,160,0.18)' stroke-width='1.2' fill='none'/%3E%3Cpath d='M 30 50 Q 40 40, 50 50' stroke='rgba(180,150,120,0.15)' stroke-width='1' fill='none'/%3E%3Ccircle cx='50' cy='50' r='3' fill='rgba(220,100,100,0.1)'/%3E%3Ccircle cx='100' cy='100' r='2.5' fill='rgba(220,100,100,0.1)'/%3E%3Cpath d='M 60 20 Q 65 15, 70 20 Q 75 15, 80 20' stroke='rgba(200,180,160,0.15)' stroke-width='1.2' fill='none'/%3E%3Cpath d='M 10 10 L 20 10 L 20 20 L 10 20 Z' stroke='rgba(180,150,120,0.12)' stroke-width='1' fill='none'/%3E%3Cpath d='M 130 10 L 140 10 L 140 20 L 130 20 Z' stroke='rgba(180,150,120,0.12)' stroke-width='1' fill='none'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='150' height='150' fill='url(%23centerPattern)'/%3E%3C/svg%3E"),#fffaf0e6;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:1rem;color:#000;pointer-events:none;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif;position:relative}.board-center h2,.board-center p{color:#000;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.board-tile{border-radius:.75rem;border:2px solid rgba(150,130,110,.25);background:url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 10 20 Q 15 10, 20 20 Q 15 30, 10 20' fill='rgba(200,180,160,0.08)'/%3E%3Cpath d='M 40 40 Q 45 30, 50 40 Q 45 50, 40 40' fill='rgba(200,180,160,0.08)'/%3E%3Ccircle cx='15' cy='15' r='1.5' fill='rgba(220,100,100,0.08)'/%3E%3Cpath d='M 30 10 Q 35 5, 40 10' stroke='rgba(200,180,160,0.1)' stroke-width='1' fill='none'/%3E%3Cpath d='M 25 50 Q 30 45, 35 50' stroke='rgba(180,150,120,0.08)' stroke-width='0.8' fill='none'/%3E%3C/svg%3E"),#fff;padding:.5rem .4rem;display:flex;flex-direction:column;justify-content:space-between;align-items:center;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease;min-width:0;min-height:60px;position:relative;overflow:hidden}.board-tile:before{content:"";position:absolute;inset:-2px;border:1px solid rgba(200,180,160,.2);border-radius:.75rem;pointer-events:none}.board-tile:hover{transform:translateY(-2px);box-shadow:0 8px 16px #1f29372e}.board-tile.selected{box-shadow:0 10px 25px #ff789659}.tile-name{font-size:.75rem;font-weight:600;color:#000;line-height:1.3;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-align:center;margin-bottom:.2rem;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.tile-color{display:block;width:100%;height:4px;border-radius:999px;margin-top:.3rem;box-shadow:0 1px 2px #0000001a}.tile-players{display:flex;gap:.2rem}.player-token{width:24px;height:24px;border-radius:50%;border:2px solid;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 2px 4px #0003}.player-icon{font-size:14px;line-height:1}.tile-buildings{display:flex;gap:.2rem;flex-wrap:wrap}.house{width:12px;height:12px;background:#ff8fb1;border-radius:.2rem}.academy{background:#5c7cfa;color:#fff;padding:.1rem .35rem;border-radius:.5rem;font-size:.65rem}.card-overlay{position:fixed;inset:0;background:#0f172a59;display:flex;align-items:center;justify-content:center;z-index:100}.card-panel{width:min(320px,80vw);background:#fff;padding:1.6rem;border-radius:1.5rem;box-shadow:0 30px 60px #0f172a59;text-align:center}.card-panel h3{margin:.5rem 0}.card-panel button{margin-top:1rem}.card-label{text-transform:uppercase;letter-spacing:.2em;font-size:.8rem;color:#9da3c1;margin:0}.card-opportunity{border-top:6px solid #ff8fb1}.card-fate{border-top:6px solid #7c9bff}.setup-stage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}.setup-card{width:min(620px,90vw);background:#fffffff0;border-radius:1.75rem;padding:2rem;box-shadow:0 30px 65px #0f172a33}.player-form{display:grid;gap:.8rem;margin-top:1rem}.player-form label{display:flex;flex-direction:column;gap:.25rem;font-weight:600}.room-settings{margin-top:1.5rem;display:grid;gap:.5rem}.room-settings small{color:#6f7692}.setup-actions{margin-top:1.5rem}.warning{color:#ff6b6b;margin-top:.4rem}@media(max-width:1100px){.app-shell{flex-direction:column}.sidebar{width:100%}}.quiz-modal-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.quiz-modal{background:#fff;border-radius:16px;padding:2rem;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;color:#000;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.quiz-header{text-align:center;margin-bottom:1.5rem;border-bottom:2px solid #e0e0e0;padding-bottom:1rem}.quiz-header h2{margin:0 0 .5rem;color:#000;font-size:1.75rem;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.quiz-category{margin:0;color:#000;font-size:.9rem;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.quiz-content{display:flex;flex-direction:column;gap:1.5rem}.quiz-question{font-size:1.25rem;font-weight:600;color:#000!important;margin:0;padding:1rem;background:#f5f5f5;border-radius:8px;border-left:4px solid #26547c;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.quiz-options{display:flex;flex-direction:column;gap:.75rem}.quiz-option{display:flex;align-items:center;gap:.75rem;padding:1rem;border:2px solid #ddd;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:left;font-size:1rem;color:#000!important;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.quiz-option:hover:not(:disabled){border-color:#26547c;background:#f0f7ff;transform:translate(4px)}.quiz-option.selected{border-color:#26547c;background:#e6f2ff;font-weight:600}.quiz-option.correct{border-color:#06d6a0;background:#e6fff8;animation:pulse .5s}.quiz-option.incorrect{border-color:#ef476f;background:#ffe6eb;animation:shake .5s}.quiz-option:disabled{cursor:not-allowed}.option-label{font-weight:700;color:#000!important;min-width:2rem;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.option-text{flex:1;color:#000!important;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.checkmark{color:#06d6a0;font-size:1.5rem;font-weight:700}.crossmark{color:#ef476f;font-size:1.5rem;font-weight:700}.quiz-submit{padding:1rem 2rem;background:#26547c;color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .2s}.quiz-submit:hover{background:#1a3d5c;transform:translateY(-2px);box-shadow:0 4px 12px #26547c4d}.quiz-result{margin-top:1rem;padding:1.5rem;border-radius:8px;text-align:center}.result-success{background:#e6fff8;border:2px solid #06d6a0}.result-failure{background:#ffe6eb;border:2px solid #ef476f}.result-message{font-size:1.1rem;font-weight:600;margin:0 0 .5rem;color:#000!important;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}.result-success .result-message,.result-failure .result-message{color:#000!important}.result-hint{margin:.5rem 0 0;color:#000!important;font-size:.95rem;font-family:楷体,KaiTi,STKaiti,KaiTi SC,STKaiti SC,Kaiti SC,BiauKai,標楷體,serif}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-8px)}75%{transform:translate(8px)}}
